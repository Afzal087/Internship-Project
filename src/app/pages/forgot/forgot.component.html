<!--BackgroundImage Container -->

<div class="h-screen w-screen flex justify-center items-center">
  <img
    class="img-style"
    src="https://images.unsplash.com/photo-1663620779258-0d48644b5193?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
    alt="background-img"
  />
  <!-- OuterContainer -->

  <div
    class="absolute bg-white rounded-xl flex justify-center items-center h-[85%] w-[65%]"
  >
    <!-- InnerContainer #1 -->

    <div class="innerImg-container">
      <div class="relative flex flex-col gap-2 h-full w-full">
        <img
          class="absolute h-full w-full object-cover object-center"
          src="https://images.unsplash.com/photo-1688372469090-ba5303aa4303?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
          alt="Background Image"
        />

        <h1
          class="relative mt-[5%] outline-2 outline-blue-500 mb-5 text-4xl mx-5 text-gray-300 border-b-2 border-gray-300 pb-3"
        >
          <span class="font-bold text-3xl">Welcome to,</span><br /><span
            class="italic text2xl font-thin"
            >Employee Management Application</span
          >
        </h1>

        <p class="relative my-6 mx-5 text-gray-300">
          This is a full-stack employee management system built with Angular and
          Spring Boot.
        </p>

        <ul class="text-white mx-5 relative font-thin italic">
          <h4 class="font-normal mb-3">Featuring:</h4>
          <li>User Authentication</li>
          <li>Route Protection</li>
          <li>Employee Management</li>
          <li>Backend Integration</li>
        </ul>
      </div>
    </div>
    <!-- InnerContainer #2 -->

 <div class="ml-2 mx-3 rounded-xl h-[97%] w-[90%] flex flex-col items-center">
  <h1 class="my-6 text-gray-800 text-2xl font-bold">Forgot Password ?</h1>

  <p class="mt-1 font-normal text-[14px]">
    @if (step === 1) {
      Enter your registered email to reset your password.
    } @else if (step === 2) {
      Enter the OTP sent to your email.
    } @else {
      Create your new password.
    }
  </p>

  <!-- =================== STEP 1: EMAIL =================== -->
  @if (step === 1) {
    <div class="input-div mt-5">
      <p class="input-heading">Email</p>
      <input
        type="email"
  
        [(ngModel)]="email"
        name="email"
        placeholder="Enter your email"
        class="input-style"
        required
      />
    </div>

    <button (click)="sendOtp()" class="hover-btn mt-4 w-[70%]">Send OTP</button>
  }

  <!-- =================== STEP 2: OTP =================== -->
  @else if (step === 2) {
    <div class="input-div mt-5">
      <p class="input-heading">One Time Password</p>
      <input
        type="number"
        [(ngModel)]="otp"
        name="otp"
        placeholder="Enter your OTP"
        class="input-style"
        required
      />
    </div>

    <button (click)="verifyOtp()" class="hover-btn mt-4 w-[70%]">Verify OTP</button>
  }

  <!-- =================== STEP 3: CHANGE PASSWORD =================== -->
  @else {
    <div class="input-div mt-5">
      <p class="input-heading">New Password</p>
      <input
        type="password"
        [(ngModel)]="newPassword"
        name="newPassword"
        placeholder="Enter new password"
        class="input-style"
        required
        minlength="8"
        maxlength="16"
        #passCheck="ngModel"
        [class.invalid]="passCheck.invalid && passCheck.touched"
      />
    </div>

    <div class="input-div mt-4">
      <p class="input-heading">Confirm Password</p>
      <input
        type="password"
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        placeholder="Confirm new password"
        class="input-style"
        minlength="8"
        maxlength="16"
        #confirmpassCheck="ngModel"
        [class.invalid]="confirmpassCheck.invalid && confirmpassCheck.touched"
        required
      />
    </div>

    <button (click)="changePassword()" class="hover-btn mt-4 w-[70%]">Change Password</button>
  }

  <!-- Message -->
  <p class="mt-4 text-sm font-medium text-red-500" *ngIf="message">{{ message }}</p>

  <!-- Register link -->
  <div class="input-div">
    <button class="input-style text-[14px] h-8 w-full bg-white shadow-none mt-4">
      Don't have an account?
      <span class="text-[15px] underline font-semibold hover:text-blue-400">
        <a routerLink="/register">Create a new account</a>
      </span>
    </button>
  </div>
</div>

    </div>
  </div>

